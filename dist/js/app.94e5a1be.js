(function(t){function e(e){for(var r,a,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);g&&g(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0da0f4ac":"d2b10a88","chunk-12a5fa36":"02fce6bc","chunk-454a4cae":"299b494a","chunk-48082d98":"94453afb","chunk-56dbd815":"83c8647e","chunk-67397f22":"1554db45","chunk-7e600c26":"3d9066d5","chunk-cff5a29c":"07019fb7","chunk-1bfa290c":"6836a5a6","chunk-2d0cebeb":"dc1b5f61","chunk-9479ca16":"e13dd5de","chunk-27be0370":"46de4c05","chunk-02a037a6":"95beea96","chunk-0cfa1432":"b264358e","chunk-49eb4c56":"2b424ff6"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0da0f4ac":1,"chunk-12a5fa36":1,"chunk-454a4cae":1,"chunk-48082d98":1,"chunk-56dbd815":1,"chunk-67397f22":1,"chunk-7e600c26":1,"chunk-cff5a29c":1,"chunk-1bfa290c":1,"chunk-02a037a6":1,"chunk-0cfa1432":1,"chunk-49eb4c56":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-0da0f4ac":"e2ddd25d","chunk-12a5fa36":"a1377435","chunk-454a4cae":"d304f10e","chunk-48082d98":"6fb9154a","chunk-56dbd815":"e2ddd25d","chunk-67397f22":"e2ddd25d","chunk-7e600c26":"16a8b9b5","chunk-cff5a29c":"e2ddd25d","chunk-1bfa290c":"377cf1b4","chunk-2d0cebeb":"31d6cfe0","chunk-9479ca16":"31d6cfe0","chunk-27be0370":"31d6cfe0","chunk-02a037a6":"e829a403","chunk-0cfa1432":"22968410","chunk-49eb4c56":"4a664fcf"}[t]+".css",i=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===i)return e()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=e,g.onerror=function(e){var r=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[t],g.parentNode.removeChild(g),n(s)},g.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(g)})).then((function(){a[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,n){r=i[t]=[e,n]}));e.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(g);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[t]=void 0}};var g=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var g=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1cf7":function(t){t.exports=JSON.parse('["DETECT","USER_DENIED_ACCOUNT_ACCESS","NONE_METAMASK_MODE","ADDRESS_CHANGE","LOCKED","NETISDETECT","NETISWORNG","LOCKED"]')},"338d":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("0d03"),n("d3b7"),n("25f0");var r=n("9f12"),a=n("53fe"),i=n("2fa7"),s=n("cb97"),o=n("645a"),c=window.contracts,u=function(){function t(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.fightPlace,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;Object(r["a"])(this,t),Object(i["a"])(this,"getAllDragonsFight",(function(){return new Promise((function(t,e){n.fightPlace.getAllDragonsFight.call((function(n,r){return n?e(n):t(r)}))}))})),Object(i["a"])(this,"priceToAdd",(function(){return new Promise((function(t,e){n.fightPlace.priceToAdd.call((function(n,r){return n?e(n):t(r.toString())}))}))})),Object(i["a"])(this,"addToFightPlace",(function(t,e){var r=n.fightPlace.addToFightPlace.getData(t),a={value:e,to:n.address,data:r};return Object(o["c"])(a)})),Object(i["a"])(this,"priceToFight",(function(){return new Promise((function(t,e){n.fightPlace.priceToFight.call((function(n,r){return n?e(n):t(r.toString())}))}))})),this.address=a,this.web3=e,this.fightPlace=this.web3.eth.contract(u).at(this.address),this.events=this.fightPlace.allEvents}return Object(a["a"])(t,[{key:"delFromFightPlace",value:function(t){var e=this.fightPlace.delFromFightPlace.getData(t),n={to:this.address,data:e};return Object(o["c"])(n)}},{key:"fightWithDragon",value:function(t,e,n){var r=this.fightPlace.fightWithDragon.getData(t,e),a={value:n,to:this.address,data:r};return Object(o["c"])(a)}}]),t}()},3481:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"totalDragons","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"birthDragon","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"dragonName","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"},{"name":"_dragonPrice","type":"uint256"},{"name":"_endBlockNumber","type":"uint256"}],"name":"add2MarketPlace","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"},{"name":"_newName","type":"string"}],"name":"addDragonName","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"killDragon","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"priceDecraseTime2Action","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"decraseTimeToAction","outputs":[],"payable":true,"stateMutability":"payable","type":"function"}]')},"414a":function(t,e,n){"use strict";n("99af"),n("4de4"),n("caad"),n("d81d"),n("e25e"),n("ac1f"),n("2532"),n("1276");var r=n("ab86");e["a"]={data:function(){return{stages:{0:"dragon",1:"egg",2:"dragon"},actions:{0:"free",1:"fight place",2:"random fight",3:"breed market",4:"breed auction",5:"random breed",6:"market place",99:"sleep",255:"Necropolis"}}},computed:{cloud:function(){return this.$store.getters.CLOUD},blockexplorer:function(){return this.$store.getters.BLOCKEXPLORERURL}},methods:{getStage:function(t){return this.stages[t]},getUrl:function(t,e){var n=this.getStage(t);return"".concat(this.cloud).concat(n,"_").concat(e,".png")},sortElements:function(){var t=this,e=this.$store.getters[this.storeKey],n=e.elements,r=e.filter,a=this.$store.getters.METAMASK.currentBlockNUmber,i=n.map((function(e){return+a<+e.nextBlock2Action?e["action"]=t.actions[99]:e["action"]=t.actions[+e.currentAction],e["url"]=t.getUrl(e.stage,e.id),e}));return r.selected&&"all"!=r.selected&&(i=i.filter((function(e){return t.getStage(e.stage)==r.selected}))),r.filterById&&(i=i.filter((function(t){return t.id.includes(r.filterById)}))),i},genParse:function(t,e){var n=Object(r["fromDecimal"])(t);return n=Object(r["padLeft"])(n,e),n=n.split(/(..)/g),n=n.map((function(t){return parseInt(t,16)})),n=n.filter((function(t){return!isNaN(t)})),n},viewAddressUrl:function(t){return"".concat(this.blockexplorer,"address/").concat(t)},loaderShow:function(){this.$store.commit("CONTENTSHOW",!1),window.document.getElementById("fountainG").style.display="block"},loaderHide:function(){window.document.getElementById("fountainG").style.display="none",this.$store.commit("CONTENTSHOW",!0)},subHex:function(t){if(!Object(r["isAddress"])(t))return t;var e=t.substr(0,6),n=t.substr(-6);return"".concat(e,"...").concat(n)},appShadow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(137, 115, 215)",e=document.querySelector("#app");e.style.boxShadow=t?"".concat(t," 0 10px 90px inset"):null}}}},"49dd":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("img",{staticClass:"smoke-left",attrs:{src:"/img/bc_cloud_left-p-500.png"}}),n("img",{staticClass:"smoke-right",attrs:{src:"/img/bc_cloud_right.png"}}),n("router-view",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.CONTENTSHOW,expression:"$store.getters.CONTENTSHOW"}]}),n("Footer",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.CONTENTSHOW,expression:"$store.getters.CONTENTSHOW"}]}),n("b-modal",{attrs:{"hide-footer":"",title:"MetaMask","header-bg-variant":t.headerBgVariant,"header-text-variant":t.headerTextVariant,"body-bg-variant":t.bodyBgVariant},model:{value:t.wrong,callback:function(e){t.wrong=e},expression:"wrong"}},[n("div",{staticClass:"d-block text-center p-3"},[n("p",{staticClass:"lead text-lightviolet"},[t._v(" "+t._s(t.wrongModal.p)+" ")]),n("img",{attrs:{height:"250",src:t.wrongModal.url}})])])],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-violet bg-violet"},[n("div",{staticClass:"collapse navbar-collapse row navbar-nav mt-2 mt-lg-0"},[n("a",{staticClass:"navbar-brand col-xs logo_text mx-5",attrs:{href:"https://dragoneth.com/"}},[n("img",{attrs:{src:"/img/logo_img.png",height:"50"}}),t._v(" Dragon "+t._s(t.$store.getters.CURRENCY)+" ")]),n("div",{staticClass:"col-lg"}),t._l(t.routers,(function(e){return n("router-link",{key:e.name,staticClass:"btn btn-outline-warning",attrs:{tag:"a",to:e.path}},[t._v(" "+t._s(t._f("uperCase")(e.name))+" ")])})),n("div",{staticClass:"mutagen text-pink mx-auto pr-3"},[t._v(" "+t._s(t.$store.getters.MUTAGEN)+" ")])],2)])},o=[],c=(n("4de4"),n("b0c0"),function(t){return t.toLocaleUpperCase()}),u={name:"NavBar",filters:{uperCase:c},data:function(){return{}},computed:{routers:function(){return this.$router.options.routes.filter((function(t){return!1!==t.name}))}}},l=u,d=(n("bbad"),n("2877")),g=Object(d["a"])(l,s,o,!1,null,null,null),f=g.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"font-small bg-darkviolet"},[n("div",{staticClass:"container text-center text-md-left py-3"},[n("div",{staticClass:"row pt-3"},[n("div",{staticClass:"col-lg mx-auto text-center"},[n("a",{staticClass:"col-xs logo_text p-3"},[n("img",{attrs:{src:"/img/logo_img.png",height:"50"}}),t._v(" Dragon "+t._s(t.$store.getters.CURRENCY)+" ")]),n("ul",{staticClass:"list-inline"},[t._m(0),n("li",{staticClass:"list-inline-item pl-3"},[n("a",{staticClass:"links-item",attrs:{href:"#contracts"},on:{click:function(e){t.modalShow=!t.modalShow}}},[t._v("Contracts")])]),t._m(1),t._m(2)])])]),t._m(3)]),n("div",{staticClass:"py-3 text-center text-lightgray"},[t._v(" © Dragon"+t._s(t.$store.getters.CURRENCY)+" 2018 ")]),n("b-modal",{attrs:{"hide-footer":"",title:t.title,"header-bg-variant":t.headerBgVariant,"header-text-variant":t.headerTextVariant,"body-bg-variant":t.bodyBgVariant},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("ul",{staticClass:"list-inline"},t._l(Object.keys(t.items),(function(e){return n("li",{key:e,staticClass:"row list-inline-item pl-5"},[n("a",{staticClass:"links-item col pl-5",attrs:{href:t.viewAddressUrl(t.items[e]),target:"_blanck"}},[t._v(t._s(e)+" => view on etherscan")])])})),0),n("button",{directives:[{name:"btn",rawName:"v-btn",value:"lightviolet col-xs-12 p-2",expression:"'lightviolet col-xs-12 p-2'"}],on:{click:function(e){t.modalShow=!t.modalShow}}},[t._v("CLOSE")])])],1)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list-inline-item pl-3"},[n("a",{staticClass:"links-item",attrs:{href:"https://t.me/joinchat/DEnpkgr31xVjG4io-wmwLQ",target:"_blank"}},[t._v(" Ask a question ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list-inline-item pl-3"},[n("a",{staticClass:"links-item",attrs:{href:"https://dragoneth.com/privacy",target:"_blank"}},[t._v(" Privacy policy ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"list-inline-item pl-3"},[n("a",{staticClass:"links-item",attrs:{href:"https://dragoneth.com/terms",target:"_blank"}},[t._v(" Terms of service ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row pt-3"},[n("div",{staticClass:"col-xs mx-auto"},[n("ul",{staticClass:"list-inline"},[n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item facebook socials",attrs:{href:"https://www.facebook.com/ethdragons",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item twitter socials",attrs:{href:"https://twitter.com/dragons_eth",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item reddit socials",attrs:{href:"https://www.reddit.com/r/DragonsEth/",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item medium socials",attrs:{href:"https://medium.com/@dragons_eth",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item gitlab socials",attrs:{href:"https://gitlab.com/dragoneth/",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item dicord socials",attrs:{href:"https://discord.gg/kHMxad4",target:"_blank"}})]),n("li",{staticClass:"list-inline-item"},[n("a",{staticClass:"links-item telegram socials",attrs:{href:"tg://join?invite=DEnpkgr31xVjG4io-wmwLQ",target:"_blank"}})])])])])}],p=n("8111"),b=n("baab"),w=n("414a"),y=window.contracts,v={name:"Footer",directives:{btn:p["a"]},mixins:[b["a"],w["a"]],data:function(){return{modalShow:!1,title:"Contracts"}},computed:{items:function(){return y}}},k=v,A=(n("6762"),Object(d["a"])(k,m,h,!1,null,null,null)),M=A.exports,x=(n("0d03"),n("d3b7"),n("25f0"),n("96cf"),n("9e8b")),D=n("338d"),O=n("d959"),N=n("b592"),R=n("9f12"),S=n("53fe"),T=n("2fa7"),P=n("b2b0"),E=n("645a"),I=window.contracts,_=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.genlab,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;Object(R["a"])(this,t),Object(T["a"])(this,"returnPrices",(function(){return new Promise((function(t,e){n.genlab.returnPrices.call((function(n,r){return n?e(n):t(r)}))}))})),this.address=r,this.web3=e,this.genlab=this.web3.eth.contract(a).at(this.address)}return Object(S["a"])(t,[{key:"setMaxGen",value:function(t,e,n){var r=this.genlab.setMaxGen.getData(t,e),a={to:this.address,value:n,data:r};return Object(E["c"])(a)}},{key:"mutateFightGenRandom",value:function(t,e,n){var r=this.genlab.mutateFightGenRandom.getData(t,e),a={to:this.address,value:n,data:r};return Object(E["c"])(a)}}]),t}(),F={computed:{genLab:function(){var t=this.$store.getters.WEB3;return new _(t)}},methods:{genLabCommonData:function(){var t,e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=this.$store.getters.LAB,n.next=3,regeneratorRuntime.awrap(this.genLab.returnPrices());case 3:return e=n.sent,t.toMaxPrice=e[2].toString(),t.forMutagenPrice=e[1].toString(),t.minMutagen=e[0].toString(),this.$store.commit("LAB",t),n.abrupt("return",t);case 9:case"end":return n.stop()}}),null,this)}}},B=n("71f8"),C=window.contracts,G=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.mutagen,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;Object(R["a"])(this,t),Object(T["a"])(this,"balanceOf",(function(t){return new Promise((function(e,r){n.mutagen.balanceOf.call(t,(function(t,n){return t?r(t):e(n)}))}))})),this.address=r,this.web3=e,this.mutagen=this.web3.eth.contract(a).at(this.address)},$=n("efa8"),j=n("1cf7"),L={mixins:[x["a"],O["a"],N["a"],$["a"],F],data:function(){return{storeKey:""}},methods:{updateBalanceMutagen:function(){var t,e,n,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(t=this.$store.getters.WEB3,e=new G(t),r=this.$store.getters.METAMASK.currentAddress,r){a.next=5;break}return a.abrupt("return",null);case 5:return a.next=7,regeneratorRuntime.awrap(e.balanceOf(r));case 7:n=a.sent,n=n.toString(),this.$store.commit("MUTAGEN",n);case 10:case"end":return a.stop()}}),null,this)},goWachAddress:function(){var t=this,e=!0;this.$store.subscribe((function(n,r){var a="METAMASK"===n.type;a&&r.MetaMask.msg===j[3]&&r.MetaMask.currentAddress&&(t.updateBalanceMutagen(),t.tokensOf(),t.isOwnerToken(),t.storeKey="MYDRAGON",t.currentPage=1),a&&r.MetaMask.msg===j[6]&&e?(r.MetaMask.modal.wrongNetId=!0,e=!1):r.MetaMask.msg===j[5]&&(r.MetaMask.modal.wrongNetId=!1)}))},eventsRun:function(){var t,e,n,r,a,i,s,o=this;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:if(window.ethereum){c.next=2;break}return c.abrupt("return",null);case 2:if(t=new Web3(ethereum),e=new D["a"](t),n=new G(t),r=this.$store.getters.METAMASK.currentBlockNUmber,!(r<=0)){c.next=10;break}return c.next=9,regeneratorRuntime.awrap(Object(E["d"])(t));case 9:r=c.sent;case 10:r-=50,a={fromBlock:r},e.events(a).watch((function(t,e){if(t)return null;var n,r=o.$store.getters.METAMASK;if(r.currentBlockNUmber=e.blockNumber,o.$store.commit("METAMASK",r),i==e.transactionHash)return null;switch(e.event){case"AddDragonFP":n=o.AddElementById(e.args._tokenId),o.dragonFightListAdd(n);break;case"RemoveDragonFP":n=o.AddElementById(e.args._tokenId),o.dragonFightListRm(n);break;case"FightFP":o.battleHistory(e),n=o.AddElementById(e.args._loseerId),o.dragonFightListRm(n),n=o.AddElementById(e.args._winnerId),o.dragonFightListRm(n);break;default:break}i=e.transactionHash})),n.mutagen.Transfer(a).watch((function(t,e){if(t)return null;var n=o.$store.getters.METAMASK;if(n.currentBlockNUmber=e.blockNumber,o.$store.commit("METAMASK",n),s==e.transactionHash)return null;if(n.currentAddress==e.args.to){var r=+o.$store.getters.MUTAGEN;r+=+e.args.value,o.$store.commit("MUTAGEN",r)}s=e.transactionHash}));case 14:case"end":return c.stop()}}),null,this)}}},W={components:{NavBar:f,Footer:M},mixins:[L,b["a"]],directives:{btn:p["a"]},computed:{wrong:{get:function(){return this.$store.getters.METAMASK.modal.wrongNetId},set:function(t){var e="METAMASK",n=this.$store.getters[e];n.modal.wrongNetId=t,this.$store.commit(e,n)}},wrongModal:function(){var t=this.$store.getters.METAMASK.msg;return t==j[2]?{url:"/img/metamask.png",p:"Please install metaMask!"}:t==j[6]?{url:"/img/net.png",p:"Please select main network!"}:{url:null,p:null}}},mounted:function(){var t=this;setTimeout((function(){return t.showApp()}),500),this.eventsRun(),this.web3Detect(),this.genLabCommonData()},methods:{showApp:function(){var t=window.document.querySelector("#fountainG"),e=window.document.querySelector("#app"),n=window.document.querySelector("#loaderlogo");t.style.display="none",e.style.display="block",n&&n.remove()},web3Detect:function(){this.goWachAddress(),this.$store.dispatch("enable"),this.$store.dispatch("isAddress"),this.$store.dispatch("isNet"),this.$store.dispatch({type:"blockNumberUpdate"})}}},U=W,K=(n("5c0b"),Object(d["a"])(U,a,i,!1,null,null,null)),H=K.exports,Y=n("8c4f");r["default"].use(Y["a"]);var V=new Y["a"]({mode:"history",base:"/",routes:[{path:"/",name:"buy egg",component:function(){return n.e("chunk-7e600c26").then(n.bind(null,"d735"))}},{path:"/dragons",name:"My Dragons",component:function(){return n.e("chunk-cff5a29c").then(n.bind(null,"6440"))}},{path:"/market",name:"Market",component:function(){return n.e("chunk-56dbd815").then(n.bind(null,"f670"))}},{path:"/fighting",name:"Fighting",component:function(){return n.e("chunk-67397f22").then(n.bind(null,"634a"))}},{path:"/dragon/:id",name:!1,component:function(){return Promise.all([n.e("chunk-0da0f4ac"),n.e("chunk-48082d98")]).then(n.bind(null,"17d8"))}},{path:"/battle/:id",name:!1,component:function(){return Promise.all([n.e("chunk-0da0f4ac"),n.e("chunk-12a5fa36")]).then(n.bind(null,"b4cf"))}},{path:"/lab/:id",name:!1,component:function(){return Promise.all([n.e("chunk-0da0f4ac"),n.e("chunk-454a4cae")]).then(n.bind(null,"9994"))}}]}),J=n("2f62"),q=(n("d81d"),n("812d"));function Q(t,e){var n,r,a,i,s,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return n=t.getters,r=t.commit,a=e.tokenId,i=e.dragonPrice,s=new q["a"](n.WEB3),u.next=5,regeneratorRuntime.awrap(s.add2MarketPlace(a,i));case 5:o=u.sent,console.log(o),c=n.MYDRAGON,c.elements=c.elements.map((function(t){return t.id==a&&(t.currentAction=6),t})),r("MYDRAGON",c);case 10:case"end":return u.stop()}}))}function X(t,e){var n,r,a,i,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return n=t.getters,r=e.tokenId,a=e.name,i=new q["a"](n.WEB3),o.next=5,regeneratorRuntime.awrap(i.addDragonName(r,a));case 5:s=o.sent,console.log(s);case 7:case"end":return o.stop()}}))}function z(t,e){var n,r,a,i,s,o,c,u,l;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return n=t.state,r=t.getters,a=t.commit,i=e.tokenId,s=n.dragon,o=2,c=new q["a"](r.WEB3),d.next=7,regeneratorRuntime.awrap(c.birthDragon(i));case 7:u=d.sent,console.log(u),s.stage=o,a("DRAGON",s),l=r.MYDRAGON,l.elements=l.elements.map((function(t){return t.id==i&&(t.stage=o),t})),a("MYDRAGON",l);case 14:case"end":return d.stop()}}))}function Z(t,e){var n,r,a,i,s,o,c,u,l,d;return regeneratorRuntime.async((function(g){while(1)switch(g.prev=g.next){case 0:return n=t.state,r=t.getters,a=t.commit,i=e.to,s=e.tokenId,o=n.dragon,c=n.MetaMask.currentAddress,u=new q["a"](r.WEB3),g.next=7,regeneratorRuntime.awrap(u.safeTransferFrom(c,i,s));case 7:l=g.sent,console.log(l),o.addressOwner=i,a("DRAGON",o),d=r.MYDRAGON,d.elements=d.elements.filter((function(t){return t.id!=s})),a("MYDRAGON",d);case 14:case"end":return g.stop()}}))}function tt(t,e){var n,r,a,i,s,o;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return n=t.getters,r=t.commit,a=e.tokenId,i=new q["a"](n.WEB3),c.next=5,regeneratorRuntime.awrap(i.killDragon(a));case 5:s=c.sent,console.log(s),o=n.MYDRAGON,o.elements=o.elements.filter((function(t){return t.id!=a})),r("MYDRAGON",o);case 10:case"end":return c.stop()}}))}function et(t){var e,n,r,a,i,s,o,c,u;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return e=t.getters,n=t.state,r=t.commit,a=e.DRAGON,i=new q["a"](e.WEB3),l.next=5,regeneratorRuntime.awrap(i.priceDecraseTime2Action());case 5:return s=l.sent,l.next=8,regeneratorRuntime.awrap(Object(E["d"])(e.WEB3));case 8:if(o=l.sent,n.MetaMask.currentBlockNUmber=o,!(a.nextBlock2Action<o)){l.next=12;break}throw new Error("nextBN < currentBN");case 12:return s=s.mul(a.nextBlock2Action-o),s=s.toString(),l.next=16,regeneratorRuntime.awrap(i.decraseTimeToAction(a.tokenId,s));case 16:c=l.sent,u=e.MYDRAGON,u.elements=u.elements.map((function(t){return t.id==a.tokenId&&(t.nextBlock2Action=o),t})),a.nextBlock2Action=o,a.currentAction="free",r("MYDRAGON",u),r("DRAGON",a),console.log(c);case 24:case"end":return l.stop()}}))}function nt(t,e){var n,r,a,i,s,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return n=t.getters,r=t.commit,a=e.tokenId,i=new D["a"](n.WEB3),s=n.MYDRAGON,u.next=6,regeneratorRuntime.awrap(i.priceToAdd());case 6:return o=u.sent,u.next=9,regeneratorRuntime.awrap(i.addToFightPlace(a,o));case 9:c=u.sent,s.elements=s.elements.map((function(t){return t.id==a&&(t.currentAction=1),t})),r("MYDRAGON",s),console.log(c);case 13:case"end":return u.stop()}}))}function rt(t,e){var n,r,a,i,s,o,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return n=t.getters,r=t.commit,a=e.youId,i=e.oponentId,s=new D["a"](n.WEB3),u.next=5,regeneratorRuntime.awrap(s.priceToFight());case 5:o=u.sent,s.fightWithDragon(a,i,o),c=n.MYDRAGON,c.elements=c.elements.map((function(t){return t.id==a&&(t.nextBlock2Action*=2),t})),r("MYDRAGON",c);case 10:case"end":return u.stop()}}))}function at(t){var e,n,r,a,i,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.getters,n=t.commit,r=e.DRAGON,a=e.MYDRAGON,i=new D["a"](e.WEB3),o.next=6,regeneratorRuntime.awrap(i.delFromFightPlace(r.tokenId));case 6:s=o.sent,r.currentAction="free",n("DRAGON",r),console.log(s),a.elements=a.elements.map((function(t){return t.id==r.tokenId&&(t.currentAction=0),t})),n("MYDRAGON",a);case 12:case"end":return o.stop()}}))}n("b680");var it=n("d76d"),st=window.config;function ot(t,e){var n,r,a,i,s,o,c,u;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:if(n=t.getters,r=t.commit,a=e.tokenId,s=n.METAMASK,s.netID==st.netID){l.next=7;break}return s.modal.wrongNetId=!0,r("METAMASK",s),l.abrupt("return",null);case 7:return o=new it["a"](n.WEB3),l.next=10,regeneratorRuntime.awrap(o.dragonPrices(a));case 10:return c=l.sent,l.next=13,regeneratorRuntime.awrap(o.ownersPercent());case 13:return u=l.sent,u=u.div(10),i=c.mul(u).div(100),i=(+i).toFixed(),c=c.add(i).toString(),l.next=20,regeneratorRuntime.awrap(o.buyDragon(a,c));case 20:case"end":return l.stop()}}))}function ct(t){var e,n,r,a,i,s;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=t.getters,n=t.commit,r=e.DRAGON,a=e.MYDRAGON,i=new it["a"](e.WEB3),o.next=6,regeneratorRuntime.awrap(i.delFromFixMarketPlace(r.tokenId));case 6:s=o.sent,r.currentAction="free",n("DRAGON",r),console.log(s),a.elements=a.elements.map((function(t){return t.id==r.tokenId&&(t.currentAction=0),t})),n("MYDRAGON",a);case 12:case"end":return o.stop()}}))}var ut=n("d107"),lt=window.config;function dt(t){var e=t.getters,n=t.commit,r=e.BUYFORM,a=e.METAMASK,i=new ut["a"](e.WEB3);if(a.netID!=lt.netID)return a.modal.wrongNetId=!0,n("METAMASK",a),null;i.buy(r.range,r.isCheck)}function gt(t,e){var n,r,a,i,s,o;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return n=t.getters,r=e.genNumber,a=n.DRAGON,i=n.LAB,s=new _(n.WEB3),c.next=7,regeneratorRuntime.awrap(s.setMaxGen(a.tokenId,r,i.toMaxPrice));case 7:o=c.sent,console.log(o);case 9:case"end":return c.stop()}}))}function ft(t,e){var n,r,a,i,s,o;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return n=t.getters,r=e.genNumber,a=n.DRAGON,i=n.LAB,s=new _(n.WEB3),c.next=7,regeneratorRuntime.awrap(s.mutateFightGenRandom(a.tokenId,r,i.forMutagenPrice));case 7:o=c.sent,console.log(o);case 9:case"end":return c.stop()}}))}var mt=window.config;r["default"].use(J["a"]);var ht=new J["a"].Store({state:{buyForm:{range:2,currentPrice:mt.currentPrice,eggsSold:mt.eggsSold,buyCost:mt.buyCost,isCheck:!0},myDragon:{currentPage:1,elements:[],totalItems:0,filter:{selected:"all",options:["all","dragon","egg"],filterById:null}},market:{currentPage:1,elements:[],totalItems:0,filter:{selected:"all",options:["all","dragon","egg"],filterById:null}},fightingGround:{currentPage:1,elements:[],totalItems:0,filter:{selected:null,filterById:null}},dragon:{dragonName:"no name",isOwner:!1,addressOwner:"",stage:null,nextBlock2Action:null,currentAction:"",price:0,gensFight:[],tokenId:null,stat:null},battle:{items:[],filter:{selected:null,filterById:null}},mutagen:0,lab:{toMaxPrice:null,forMutagenPrice:null,minMutagen:null},contentShow:!0,MetaMask:{netID:null,currentBlockNUmber:null,currentAddress:"",msg:"",modal:{wrongNetId:!1}}},actions:{isAddress:E["e"],enable:E["b"],isNet:E["f"],blockNumberUpdate:E["a"],toSell:Q,addDragonName:X,birth:z,transfer:Z,killDragon:tt,wakeUp:et,buyEgg:dt,buyFromMarket:ot,delFromFixMarketPlace:ct,addToFight:nt,fightWithDragon:rt,delFromFightPlace:at,genToMax:gt,genRand:ft},getters:{BUYFORM:function(t){return t.buyForm},MYDRAGON:function(t){return t.myDragon},MARKET:function(t){return t.market},FIGHTINGGROUND:function(t){return t.fightingGround},DRAGON:function(t){return t.dragon},BATTLE:function(t){return t.battle},MUTAGEN:function(t){return t.mutagen},CURRENTADDRESS:function(t){return t.currentAddress},METAMASK:function(t){return t.MetaMask},LAB:function(t){return t.lab},CONTENTSHOW:function(t){return t.contentShow},CLOUD:function(){return mt.cloud},BLOCKEXPLORERURL:function(){return mt.blockExplorer},CURRENCY:function(){return mt.currency},WEB3:function(){return new window.Web3(new window.Web3.providers.HttpProvider(mt.providers))}},mutations:{BUYFORM:function(t,e){return t.buyForm=e},MYDRAGON:function(t,e){return t.myDragon=e},MARKET:function(t,e){return t.market=e},FIGHTINGGROUND:function(t,e){return t.fightingGround=e},DRAGON:function(t,e){return t.dragon=e},MUTAGEN:function(t,e){return t.mutagen=e},CURRENTADDRESS:function(t,e){return t.currentAddress=e},METAMASK:function(t,e){return t.MetaMask=e},CONTENTSHOW:function(t,e){return t.contentShow=e},BATTLE:function(t,e){return t.contentShow=e},LAB:function(t,e){return t.lab=e}}}),pt=n("8832"),bt=n.n(pt),wt=n("5f5b"),yt=n("033b"),vt=n.n(yt);r["default"].use(vt.a),r["default"].component("paginate",bt.a),r["default"].use(wt["a"]),r["default"].config.productionTip=!1,new r["default"]({router:V,store:ht,render:function(t){return t(H)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"645a":function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return d}));n("d3b7"),n("96cf");var r=n("1cf7"),a=window.config;function i(t){console.warn("WEB3:",t)}function s(t){var e=t.commit,n=t.state,a=n.MetaMask,s=setInterval((function(){window.ethereum||window.web3?window.ethereum&&window.ethereum["selectedAddress"]?a.currentAddress!==window.ethereum["selectedAddress"]&&(a.msg=r[3],a.currentAddress=window.ethereum["selectedAddress"],i(a.msg),e("METAMASK",a)):window.web3&&window.web3.eth.coinbase?a.currentAddress!==window.web3.eth.coinbase&&(a.msg=r[3],a.currentAddress=window.web3.eth.coinbase,i(a.msg),e("METAMASK",a)):(a.msg=r[7],i(a.msg),e("METAMASK",a)):(a.msg=r[2],i(a.msg),a.currentAddress=null,clearInterval(s),e("METAMASK",a))}),1e3)}function o(t){var e,n,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(e=t.commit,n=t.state,a=n.MetaMask,!window.ethereum){s.next=15;break}return s.prev=3,s.next=6,regeneratorRuntime.awrap(ethereum.enable());case 6:window.web3=window.ethereum,a.msg=r[0],s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](3),a.msg=r[1];case 13:s.next=16;break;case 15:window.web3?web3=window.web3:a.msg=r[2];case 16:i(a.msg),e("METAMASK",a);case 18:case"end":return s.stop()}}),null,null,[[3,10]])}function c(t){var e,n=t.commit,i=t.state,s=i.MetaMask;window.ethereum?e=new Web3(ethereum):window.web3&&(e=window.web3),setInterval((function(){if(!e)return null;e.version.getNetwork((function(t,e){var i;s.netID=t||e,i=a.netID!=e?r[6]:r[5],s.msg=i,n("METAMASK",s)}))}),1e3)}function u(t){return new Promise((function(e,n){var r;window.ethereum?r=new Web3(ethereum):window.web3&&(r=window.web3),r.eth.sendTransaction(t,(function(t,r){return t?n(t):e(r)}))}))}function l(t){return new Promise((function(e,n){t.eth.getBlockNumber((function(t,r){if(t)return n(t);e(r)}))}))}function d(t,e){var n,r,a,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(n=t.getters,r=t.state,a=e.number,i=n.WEB3,!a){s.next=7;break}r.MetaMask.currentBlockNUmber=a,s.next=10;break;case 7:return s.next=9,regeneratorRuntime.awrap(l(i));case 9:r.MetaMask.currentBlockNUmber=s.sent;case 10:return s.abrupt("return",r.MetaMask.currentBlockNUmber);case 11:case"end":return s.stop()}}))}},6762:function(t,e,n){"use strict";var r=n("49dd"),a=n.n(r);a.a},"71f8":function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},8111:function(t,e,n){"use strict";e["a"]=function(t,e){var n="info",r="btn btn-outline-",a="button";e.value?r+=e.value:r+=n,t.localName==a&&(t.type="button"),t.className=r}},"812d":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("d3b7");var r=n("9f12"),a=n("2fa7"),i=n("3481"),s=n("645a"),o=window.contracts,c=function t(e){var n=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.dragonseth,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;Object(r["a"])(this,t),Object(a["a"])(this,"totalDragons",(function(){return new Promise((function(t,e){n.dragonseth.totalDragons.call((function(n,r){return n?e(n):t(r)}))}))})),Object(a["a"])(this,"dragonName",(function(t){return new Promise((function(e,r){n.dragonseth.dragonName.call(t,(function(t,n){return t?r(t):e(n)}))}))})),Object(a["a"])(this,"add2MarketPlace",(function(t,e){var r=0,a=n.dragonseth.add2MarketPlace.getData(t,e,r),i={to:n.address,data:a};return Object(s["c"])(i)})),Object(a["a"])(this,"birthDragon",(function(t){var e=n.dragonseth.birthDragon.getData(t),r={to:n.address,data:e};return Object(s["c"])(r)})),Object(a["a"])(this,"safeTransferFrom",(function(t,e,r){var a=n.dragonseth.safeTransferFrom.getData(t,e,r),i={to:n.address,data:a};return Object(s["c"])(i)})),Object(a["a"])(this,"addDragonName",(function(t,e){var r=n.dragonseth.addDragonName.getData(t,e),a={to:n.address,data:r};return Object(s["c"])(a)})),Object(a["a"])(this,"killDragon",(function(t){var e=n.dragonseth.killDragon.getData(t),r={to:n.address,data:e};return Object(s["c"])(r)})),Object(a["a"])(this,"priceDecraseTime2Action",(function(){return new Promise((function(t,e){n.dragonseth.priceDecraseTime2Action.call((function(n,r){return n?e(n):t(r)}))}))})),Object(a["a"])(this,"decraseTimeToAction",(function(t,e){var r=n.dragonseth.decraseTimeToAction.getData(t),a={to:n.address,data:r,value:e};return Object(s["c"])(a)})),this.address=c,this.web3=e,this.dragonseth=this.web3.eth.contract(u).at(this.address)}},"8dc3":function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"dragonStats","outputs":[{"name":"fightWin","type":"uint32"},{"name":"fightLose","type":"uint32"},{"name":"children","type":"uint32"},{"name":"fightToDeathWin","type":"uint32"},{"name":"mutagenFace","type":"uint32"},{"name":"mutagenFight","type":"uint32"},{"name":"genLabFace","type":"uint32"},{"name":"genLabFight","type":"uint32"}],"payable":false,"stateMutability":"view","type":"function"}]')},"9b89":function(t){t.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"buyDragon","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"totalDragonsToSale","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_firstIndex","type":"uint256"},{"name":"_aboveLastIndex","type":"uint256"}],"name":"getSlicedDragonsSale","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"getOwnedDragonToSale","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"dragonPrices","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ownersPercent","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_dragonIDs","type":"uint256[]"}],"name":"getFewDragons","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"dragonsOwner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"delFromFixMarketPlace","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},"9c0c":function(t,e,n){},"9e8b":function(t,e,n){"use strict";n("d3b7"),n("96cf");var r=n("812d"),a=n("d959"),i=n("9f12"),s=n("2fa7"),o=n("8dc3"),c=window.contracts,u=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.stat,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;Object(i["a"])(this,t),Object(s["a"])(this,"dragonStats",(function(t){return new Promise((function(e,r){n.stat.dragonStats.call(t,(function(t,n){return t?r(t):e({fightWin:+n[0],fightLose:+n[1],children:+n[2],fightToDeathWin:+n[3],mutagenFace:+n[4],mutagenFight:+n[5],genLabFace:+n[6],genLabFight:+n[7]})}))}))})),this.address=r,this.web3=e,this.stat=this.web3.eth.contract(a).at(this.address)},l=n("414a"),d=(n("0d03"),n("25f0"),n("b7d2")),g=window.contracts,f=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.proxy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;Object(i["a"])(this,t),Object(s["a"])(this,"tokensOf",(function(t){return new Promise((function(e,r){n.proxy.tokensOf.call(t,(function(t,n){return t?r(t):e(n)}))}))})),Object(s["a"])(this,"getDragons",(function(t){return new Promise((function(e,r){n.proxy.getDragons.call(t,(function(t,a){if(t)return r(t);for(var i=[],s=0;s<a.length;s+=17)a[s+1]&&i.push({id:a[s+1].toString(),owner:n.web3.toHex(a[s+2]),nextBlock2Action:+a[s+4],stage:+a[s+5],currentAction:a[s+6].toString(),gen2:n.web3.toHex(a[s+7]),lastActionID:a[s+8].toString(),lastActionDragonID:a[s+9].toString(),fightWin:a[s+10].toString(),fightLose:a[s+11].toString(),children:a[s+12].toString(),fightToDeathWin:a[s+13].toString(),mutagenFace:a[s+14].toString(),mutagenFight:a[s+15].toString(),genLabFace:a[s+16].toString(),genLabFight:a[s+17].toString()});return e({blockNumber:+a[0],result:i})}))}))})),this.address=r,this.web3=e,this.proxy=this.web3.eth.contract(a).at(this.address)};e["a"]={mixins:[a["a"],l["a"]],computed:{dragonseth:function(){var t=this.$store.getters.WEB3;return new r["a"](t)},dragonStat:function(){var t=this.$store.getters.WEB3;return new u(t)},proxy:function(){var t=this.$store.getters.WEB3;return new f(t)}},methods:{tokensOf:function(){var t,e,n,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return n=this.$store.getters.MYDRAGON,r=this.$store.getters.METAMASK,a.next=4,regeneratorRuntime.awrap(this.proxy.tokensOf(r.currentAddress));case 4:return t=a.sent,a.next=7,regeneratorRuntime.awrap(this.proxy.getDragons(t));case 7:return e=a.sent,n.elements=e.result,r.currentBlockNUmber=e.blockNumber,this.$store.commit("METAMASK",r),this.$store.commit("MYDRAGON",n),a.abrupt("return",n.elements);case 13:case"end":return a.stop()}}),null,this)},dragonInfo:function(t){var e,n,r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=this.$store.getters.METAMASK,a.next=3,regeneratorRuntime.awrap(this.dragonseth.dragonName(t));case 3:return n=a.sent,a.next=6,regeneratorRuntime.awrap(this.proxy.getDragons([t]));case 6:return r=a.sent,e.currentBlockNUmber=r.blockNumber,this.$store.commit("METAMASK",e),r=r.result[0],a.abrupt("return",{blockNumber:e.currentBlockNUmber,dragonName:n,owner:r.owner,lastActionDragonID:r.lastActionDragonID,lastActionID:r.lastActionID,currentAction:r.currentAction,stage:r.stage,nextBlock2Action:r.nextBlock2Action,gens:{fightsGenes:this.genParse(r.gen2,62)},stat:{fightLose:r.fightLose,fightToDeathWin:r.fightToDeathWin,fightWin:r.fightWin,genLabFace:r.genLabFace,genLabFight:r.genLabFight,mutagenFace:r.mutagenFace,mutagenFight:r.mutagenFight}});case 11:case"end":return a.stop()}}),null,this)},getAllTheTokenData:function(t){var e,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return n=this.$store.getters.DRAGON,r.prev=1,r.next=4,regeneratorRuntime.awrap(this.dragonInfo(t));case 4:e=r.sent,r.next=11;break;case 7:return r.prev=7,r.t0=r["catch"](1),window.location.reload(),r.abrupt("return",null);case 11:return n.tokenId=t,n.stage=e.stage,n.gensFight=e.gens.fightsGenes,n.addressOwner=e.owner,n.dragonName=e.dragonName,n.stat=e.stat,255==+e.currentAction?n.nextBlock2Action=0:n.nextBlock2Action=e.nextBlock2Action,+e.blockNumber<+n.nextBlock2Action?n.currentAction=this.actions[99]:n.currentAction=this.actions[+e.currentAction],this.$store.commit("DRAGON",n),this.isOwnerToken(),r.abrupt("return",n);case 22:case"end":return r.stop()}}),null,this,[[1,7]])},isOwnerToken:function(){var t,e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(t=this.$store.getters.DRAGON,e=this.$store.getters.METAMASK.currentAddress,t.addressOwner!=this.marketPlace.address){n.next=9;break}return n.next=5,regeneratorRuntime.awrap(this.marketPlace.dragonsOwner(t.tokenId));case 5:return t.addressOwner=n.sent,n.next=8,regeneratorRuntime.awrap(this.marketPlace.dragonPrices(t.tokenId));case 8:t.price=n.sent;case 9:t.addressOwner==e?t.isOwner=!0:t.isOwner=!1,this.$store.commit("DRAGON",t);case 11:case"end":return n.stop()}}),null,this)}}}},b2b0:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"returnPrices","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"},{"name":"_genNum","type":"uint256"}],"name":"setMaxGen","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"},{"name":"_genNum","type":"uint256"}],"name":"mutateFightGenRandom","outputs":[],"payable":true,"stateMutability":"payable","type":"function"}]')},b592:function(t,e,n){"use strict";n("4de4"),n("d81d"),n("0d03"),n("d3b7"),n("25f0"),n("96cf");var r=n("338d"),a=n("414a");e["a"]={mixins:[a["a"]],computed:{fightPlace:function(){var t=this.$store.getters.WEB3;return new r["a"](t)}},methods:{AddElementById:function(t){return t?{stage:2,id:t.toString(),owner:"",price:0}:null},dragonFightListUpdate:function(t){var e=this.$store.getters.FIGHTINGGROUND;return e.elements=t,this.$store.commit("FIGHTINGGROUND",e),e.elements},dragonFightListAdd:function(t){var e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(e=this.$store.getters.FIGHTINGGROUND,!(e.elements.length<1)){n.next=5;break}return n.next=4,regeneratorRuntime.awrap(this.getDragonsTofight());case 4:e.elements=n.sent;case 5:return e.elements=e.elements.filter((function(e){return+e.id!=+t.id})),e.elements.push(t),this.$store.commit("FIGHTINGGROUND",e),n.abrupt("return",e.elements);case 9:case"end":return n.stop()}}),null,this)},dragonFightListRm:function(t){if(!t)return null;var e=this.$store.getters.FIGHTINGGROUND;return e.elements=e.elements.filter((function(e){return+e.id!=+t.id})),this.$store.commit("FIGHTINGGROUND",e),e.elements},getDragonsTofight:function(){var t,e=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return t=this.$store.getters.FIGHTINGGROUND,n.next=3,regeneratorRuntime.awrap(this.fightPlace.getAllDragonsFight());case 3:return t.elements=n.sent,t.elements=t.elements.map((function(t){return e.AddElementById(t)})),this.$store.commit("FIGHTINGGROUND",t),n.abrupt("return",t.elements);case 7:case"end":return n.stop()}}),null,this)},battleHistory:function(t){var e=t.blockNumber,n=t.args,r=this.$store.getters.BATTLE,a={ownerWiner:n._ownerWinner,ownerLose:n._onwerLoser,blockNumber:e,dragonWiner:"#"+n._winnerId.toString(),dragonLose:"#"+n._loserId.toString()};return r.items.length>10&&r.items.shift(),r.items.push(a),this.$store.commit("BATTLE",r),r.items}}}},b7d2:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"_dragonIDs","type":"uint256[]"}],"name":"getDragons","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"tokensOf","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"}]')},baab:function(t,e,n){"use strict";var r=n("ab86"),a=n("b592");e["a"]={mixins:[a["a"]],props:{id:String},data:function(){return{gift:{show:!1,title:"Make a gift",giftAddress:null},sell:{show:!1,title:"Sell dragon",price:0,commission:5},suicide:{show:!1,title:"Make a suicide"},bodyBgVariant:"violetbody",headerBgVariant:"violet",headerTextVariant:"ightindigo",footerBgVariant:"darkviolet"}},methods:{isGiftModal:function(){this.gift.show=!this.gift.show},makeGift:function(){var t=this.gift.giftAddress;if(!Object(r["isAddress"])(t))return null;this.$store.dispatch({type:"transfer",to:t,tokenId:this.id}),this.isGiftModal()},isSellModal:function(){this.sell.show=!this.sell.show},makeSell:function(){this.$store.dispatch({type:"toSell",tokenId:this.id,dragonPrice:Object(r["toWei"])(this.sell.price,"ether")}),this.isSellModal()},isShowSuicide:function(){this.suicide.show=!this.suicide.show},makeSuicide:function(){this.$store.dispatch({type:"killDragon",tokenId:this.id}),this.isShowSuicide()},toFight:function(){this.$store.dispatch({type:"addToFight",tokenId:this.id})},birth:function(){this.$store.dispatch({type:"birth",tokenId:this.id})},buyFromMarket:function(t){this.$store.dispatch({type:"buyFromMarket",tokenId:t})},wakeUp:function(){this.$store.dispatch("wakeUp")},returnFight:function(){this.$store.dispatch("delFromFightPlace")},returnMarket:function(){this.$store.dispatch("delFromFixMarketPlace")},genToMax:function(t){this.$store.dispatch({type:"genToMax",genNumber:t})},genRand:function(t){this.$store.dispatch({type:"genRand",genNumber:t})}}}},bbad:function(t,e,n){"use strict";var r=n("f55d"),a=n.n(r);a.a},cb97:function(t){t.exports=JSON.parse('[{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"addToFightPlace","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"priceToAdd","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getAllDragonsFight","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_yourDragonID","type":"uint256"},{"name":"_thisDragonID","type":"uint256"}],"name":"fightWithDragon","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"priceToFight","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dragonID","type":"uint256"}],"name":"delFromFightPlace","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_winnerId","type":"uint256"},{"indexed":false,"name":"_loserId","type":"uint256"},{"indexed":false,"name":"_ownerWinner","type":"address"},{"indexed":false,"name":"_onwerLoser","type":"address"}],"name":"FightFP","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"AddDragonFP","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"RemoveDragonFP","type":"event"}]')},d107:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("d3b7"),n("96cf");var r=n("9f12"),a=n("53fe"),i=n("2fa7"),s=n("e08f"),o=n("645a"),c=window.contracts,u=function(){function t(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.crowdsale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;Object(r["a"])(this,t),Object(i["a"])(this,"priceChanger",(function(){return new Promise((function(t,e){n.crowdsale.priceChanger.call((function(n,r){return n?e(n):t(r)}))}))})),Object(i["a"])(this,"crowdSaleDragonPrice",(function(){return new Promise((function(t,e){n.crowdsale.crowdSaleDragonPrice.call((function(n,r){return n?e(n):t(r)}))}))})),this.address=a,this.web3=e,this.crowdsale=this.web3.eth.contract(o).at(this.address)}return Object(a["a"])(t,[{key:"buy",value:function(t){var e,n,r,a,i,s=arguments;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return e=!(s.length>1&&void 0!==s[1])||s[1],n=s.length>2&&void 0!==s[2]?s[2]:null,r={to:this.address,data:n},c.next=5,regeneratorRuntime.awrap(this.crowdSaleDragonPrice());case 5:if(a=c.sent,!e){c.next=10;break}c.t0=0,c.next=13;break;case 10:return c.next=12,regeneratorRuntime.awrap(this.priceChanger());case 12:c.t0=c.sent;case 13:return i=c.t0,r.value=a.add(i),r.value=r.value.mul(t),c.abrupt("return",Object(o["c"])(r));case 17:case"end":return c.stop()}}),null,this)}}]),t}()},d76d:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("d81d"),n("0d03"),n("d3b7"),n("25f0");var r=n("9f12"),a=n("53fe"),i=n("2fa7"),s=n("9b89"),o=n("645a"),c=window.contracts,u=function(){function t(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.marketPlace,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;Object(r["a"])(this,t),Object(i["a"])(this,"ownersPercent",(function(){return new Promise((function(t,e){n.marketPlace.ownersPercent.call((function(n,r){return n?e(n):t(r)}))}))})),Object(i["a"])(this,"dragonPrices",(function(t){return new Promise((function(e,r){n.marketPlace.dragonPrices.call(t,(function(t,n){return t?r(t):e(n)}))}))})),Object(i["a"])(this,"buyDragon",(function(t,e){var r={value:e,to:n.address,data:n.marketPlace.buyDragon.getData(t)};return Object(o["c"])(r)})),Object(i["a"])(this,"totalDragonsToSale",(function(){return new Promise((function(t,e){n.marketPlace.totalDragonsToSale.call((function(n,r){return n?e(n):t(r.toString())}))}))})),Object(i["a"])(this,"getSlicedDragonsSale",(function(t,e){return new Promise((function(r,a){n.marketPlace.getSlicedDragonsSale.call(t,e,(function(t,e){return t?a(t):r(e.map((function(t){return t.toString()})))}))}))})),Object(i["a"])(this,"getOwnedDragonToSale",(function(t){return new Promise((function(e,r){n.marketPlace.getOwnedDragonToSale.call(t,(function(t,n){return t?r(t):e(n)}))}))})),Object(i["a"])(this,"getFewDragons",(function(t){return new Promise((function(e,r){n.marketPlace.getFewDragons.call(t,(function(t,a){if(t)return r(t);for(var i=[],s=0;s<a.length;s+=4)a[s]&&i.push({id:a[s].toString(),stage:+a[s+1],owner:n.web3.toHex(a[s+2]),price:a[s+3].toString()});return e(i)}))}))})),Object(i["a"])(this,"dragonsOwner",(function(t){return new Promise((function(e,r){n.marketPlace.dragonsOwner.call(t,(function(t,n){return t?r(t):e(n)}))}))})),this.address=a,this.web3=e,this.marketPlace=this.web3.eth.contract(u).at(this.address)}return Object(a["a"])(t,[{key:"delFromFixMarketPlace",value:function(t){var e=this.marketPlace.delFromFixMarketPlace.getData(t),n={to:this.address,data:e};return Object(o["c"])(n)}}]),t}()},d959:function(t,e,n){"use strict";n("d3b7"),n("96cf");var r=n("d76d");e["a"]={computed:{marketPlace:function(){var t=this.$store.getters.WEB3;return new r["a"](t)}},methods:{getDragonsToSale:function(){var t,e,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return n=this.$store.getters.MARKET,r.next=3,regeneratorRuntime.awrap(this.marketPlace.totalDragonsToSale());case 3:if(t=r.sent,!(t<1)){r.next=6;break}return r.abrupt("return",[]);case 6:return r.next=8,regeneratorRuntime.awrap(this.marketPlace.getSlicedDragonsSale(0,t++));case 8:return e=r.sent,r.next=11,regeneratorRuntime.awrap(this.marketPlace.getFewDragons(e));case 11:return n.elements=r.sent,this.$store.commit("MARKET",n),r.abrupt("return",n.elements);case 14:case"end":return r.stop()}}),null,this)}}}},e08f:function(t){t.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"crowdSaleDragonPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"priceChanger","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},efa8:function(t,e,n){"use strict";n("fb6a");var r=n("414a");e["a"]={mixin:[r["a"]],data:function(){return{perPage:6,prevText:"<",nextText:">"}},mounted:function(){},computed:{currentPage:{get:function(){var t=this.$store.getters[this.storeKey].currentPage;return t>this.totalRows?this.totalRows:t},set:function(t){var e=this.$store.getters[this.storeKey];e&&(e.currentPage=t,this.$store.commit(this.storeKey,e))}},totalRows:function(){var t=this.sortElements(),e=t.length;return e<1?null:(e/=this.perPage,e=Math.ceil(+e),e)},isShow:function(){var t=this.$store.getters[this.storeKey].elements;return t.length>this.perPage}},methods:{pageChanged:function(t){var e=(this.currentPage-1)*this.perPage,n=this.currentPage*this.perPage;return t.slice(e,n)}}}},f55d:function(t,e,n){}});
//# sourceMappingURL=app.94e5a1be.js.map